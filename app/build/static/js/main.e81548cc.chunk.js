(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{139:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(62),s=a.n(i),c=(a(70),a(71),a(2)),l=a(3),o=a(1),u=a(5),d=a(4),h=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={value:"",label:""},n.handleChange=n.handleChange.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"handleChange",value:function(e){var t=e.target.value;this.setState({value:t}),this.props.onInput(t)}},{key:"render",value:function(){return n.createElement("div",null,n.createElement("input",{value:this.state.value,placeholder:this.state.label,onChange:this.handleChange}))}}]),a}(n.Component),p=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={},n.handleZipcodeInput=n.handleZipcodeInput.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"handleZipcodeInput",value:function(e){this.setState({zipCode:e}),this.props.onInput(e)}},{key:"render",value:function(){return n.createElement("div",null,n.createElement("h1",null,"Pick Health Plans"),n.createElement(h,{onInput:this.handleZipcodeInput}))}}]),a}(n.Component),m=a(8),b=a.n(m),v=a(28),f=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return n.createElement("div",null,n.createElement("button",{onClick:function(){return e.props.onSelect(e.props.field,e.props.choice1)}}," ",this.props.choice1," "),n.createElement("button",{onClick:function(){return e.props.onSelect(e.props.field,e.props.choice2)}}," ",this.props.choice2," "))}}]),a}(n.Component),E=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={},n.handleTargetSelect=n.handleTargetSelect.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"handleTargetSelect",value:function(e,t){t=t.toLowerCase(),console.log(t),this.props.onDataInput("target",t)}},{key:"render",value:function(){return n.createElement("div",null,n.createElement("h5",null,"Are you seeking a family or individual plan?"),n.createElement(f,{onSelect:this.handleTargetSelect,choice1:"Individual",choice2:"Family",field:"target"}))}}]),a}(n.Component),y=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={usesTobacco:!1},n.handleDOB=n.handleDOB.bind(Object(o.a)(n)),n.handleSelect=n.handleSelect.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"handleDOB",value:function(e){if(10===e.length){var t=new Date(e),a=new Date,n=a.getFullYear()-t.getFullYear();(a.getMonth()<t.getMonth()||a.getMonth()===t.getMonth()&&a.getDate()<t.getDate())&&n--;var r=n;this.props.onDataInput("age",r)}}},{key:"handleSelect",value:function(e){"Yes"===e?this.setState({usesTobacco:!0}):this.setState({usesTobacco:!1}),this.props.onDataInput("usesTobacco",this.state.usesTobacco)}},{key:"render",value:function(){return n.createElement("div",null,n.createElement("p",null,"Enter your date of birth:"),n.createElement(h,{onInput:this.handleDOB}),n.createElement("p",null,"Do you currently use Tobacco?"),n.createElement(f,{onSelect:this.handleSelect,choice1:"Yes",choice2:"No",field:"usesTobacco"}))}}]),a}(n.Component),O=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={},n.handleNumChildren=n.handleNumChildren.bind(Object(o.a)(n)),n.handleHasSpouse=n.handleHasSpouse.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"handleNumChildren",value:function(e){e=parseInt(e,10),this.props.onDataInput("numChildren",e)}},{key:"handleHasSpouse",value:function(e,t){var a=!1;"Yes"===t&&(a=!0),this.props.onDataInput(e,a)}},{key:"render",value:function(){return n.createElement("div",null,n.createElement("p",null,"Are you currently married?"),n.createElement(f,{onSelect:this.handleHasSpouse,choice1:"Yes",choice2:"No",field:"hasSpouse"}),n.createElement("p",null,"Input number of dependents"),n.createElement(h,{onInput:this.handleNumChildren}))}}]),a}(n.Component),S=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={isCorrect:!0,numPCP:1,numSpec:2},n.displayEHRData=n.displayEHRData.bind(Object(o.a)(n)),n.handleEdit=n.handleEdit.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"displayEHRData",value:function(){return!1!==this.state.isCorrect?n.createElement("div",null,n.createElement("h5",null,"Here is you healthcare utilization over the past year: "),"Number of PCP visits: ",n.createElement("input",{readOnly:!0,type:"text",id:"numVisits",value:this.state.numPCP})," ",n.createElement("br",null),"Number of Specialist visits: ",n.createElement("input",{readOnly:!0,type:"text",id:"numVisits",value:this.state.numSpec})," ",n.createElement("br",null)):n.createElement("div",null,n.createElement("h5",null,"Here is you healthcare utilization over the past year: "),"Number of PCP visits: ",n.createElement("input",{type:"text"})," ",n.createElement("br",null),"Number of Specialist visits: ",n.createElement("input",{type:"text"})," ",n.createElement("br",null))}},{key:"handleEdit",value:function(){this.setState({isCorrect:!1})}},{key:"handleConfirm",value:function(){}},{key:"render",value:function(){var e=this.displayEHRData();return n.createElement("div",null,e,n.createElement("button",{onClick:this.handleEdit}," Edit "),n.createElement("button",{onClick:this.handleConfirm}," Confirm "))}}]),a}(n.Component),j=a(63),g=a.n(j),C=a(64),k=a.n(C),D=[{participants:[],period:{end:"2019-10-02T11:32:43-04:00",start:"2019-10-02T11:02:43-04:00"},type:[{coding:[{code:"185345009",display:"Encounter for symptom",system:"cpt"}]}],class:{code:"WELLNESS"}},{participants:[],period:{end:"2019-10-02T11:32:43-04:00",start:"2019-10-02T11:02:43-04:00"},type:[{coding:[{code:"185349003",display:"Encounter for check up",system:"cpt"}]}],class:{code:"WELLNESS"}},{participants:[],period:{end:"2019-10-02T11:32:43-04:00",start:"2019-10-02T11:02:43-04:00"},type:[{coding:[{code:"50849002",display:"Emergency room admission",system:"cpt"}]}],class:{code:"WELLNESS"}},{participants:[],period:{end:"2019-10-02T11:32:43-04:00",start:"2019-10-02T11:02:43-04:00"},type:[{coding:[{code:"185349003",display:"Encounter for check up",system:"cpt"}]}],class:{code:"WELLNESS"}}],I=[{period:{end:"2019-10-02T11:32:43-04:00",start:"2019-10-02T11:02:43-04:00"},coding:{encoding:[{code:"1225002",display:"Upper arm X-Ray",system:"cpt"}]},encounterContext:{reference:"reference"}}],T=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(c.a)(this,a);return(n=t.call(this,e)).state={data:{market:"individual",demographic:"adult",target:"",zipCode:"",encounters:[],procedures:[],age:0,usesTobacco:!1,hasSpouse:!1,numChildren:0},name:"",zipCode:"",EHRisLoaded:!1},n.handleData=n.handleData.bind(Object(o.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(o.a)(n)),n.getPatientData=n.getPatientData.bind(Object(o.a)(n)),n.handleFhirButtonSelect=n.handleFhirButtonSelect.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"handleSubmit",value:function(){var e=Object(v.a)(b.a.mark((function e(){var t,a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="individual"===this.state.data.target?{market:this.state.data.market,demographic:this.state.data.demographic,target:this.state.data.target,zipCode:this.state.data.zipCode,encounters:this.state.data.encounters,procedures:this.state.data.procedures,age:this.state.data.age,usesTobacco:this.state.data.usesTobacco}:{market:this.state.data.market,demographic:this.state.data.demographic,target:this.state.data.target,zipCode:this.state.data.zipCode,encounters:this.state.data.patientEncounters,procedures:this.state.data.patientProcedures,hasSpouse:this.state.data.hasSpouse,numChildren:this.state.data.numChildren},console.log(JSON.stringify(t,void 0,4)),e.next=5,k.a.get("http://localhost:4000/plan/recommendation?data=".concat(JSON.stringify(t)));case 5:a=e.sent,n=a.data,this.props.handleBenefitsResults(n),console.log(n),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",1);case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleData",value:function(e,t){var a=this.state.data;a[e]=t,this.setState({data:a})}},{key:"displayTargetInfo",value:function(){return"individual"===this.state.data.target?n.createElement(y,{onDataInput:this.handleData}):"family"===this.state.data.target?n.createElement(O,{onDataInput:this.handleData}):void 0}},{key:"getPatientData",value:function(){var e=D,t=I,a=this.state.data;a.encounters=e,a.procedures=t,this.setState({data:a})}},{key:"handleFhirButtonSelect",value:function(){var e=Object(v.a)(b.a.mark((function e(t,a){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=a,e.next="Cerner"===e.t0?3:7;break;case 3:return e.next=5,g.a.oauth2.authorize({iss:"https://fhir.epic.com/interconnect-fhir-oauth/api/FHIR/DSTU2",scope:"patient/*.read"});case 5:n=e.sent,console.log(n);case 7:this.setState({EHRisLoaded:!0});case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e;!0===this.state.EHRisLoaded&&(e=n.createElement(S,null)),this.state.data.zipCode!==this.props.zipCode&&this.handleData("zipCode",this.props.zipCode);var t=this.displayTargetInfo();return n.createElement("div",null,n.createElement(E,{onDataInput:this.handleData}),t,n.createElement("h5",null,"Does your healthcare provider use Epic or Cerner?"),n.createElement(f,{onSelect:this.handleFhirButtonSelect,choice1:"Epic",choice2:"Cerner",field:"FhirProvider"}),e,n.createElement("br",null),n.createElement("button",{onClick:this.handleSubmit}," Search Plans Now "))}}]),a}(n.Component),H=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={name:"",cost:0,total:0},n}return Object(l.a)(a,[{key:"render",value:function(){return n.createElement(n.Fragment,null,n.createElement("h5",null,this.props.plan.name," "),n.createElement("p",null,"Estimated Cost: ",this.props.plan.deductible+12*this.props.plan.cost+this.props.plan.outOfPocket," "),n.createElement("p",null,"Out of Pocket Max: ",this.props.plan.maximumOutOfPocket," "))}}]),a}(n.Component),P=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={},n}return Object(l.a)(a,[{key:"render",value:function(){return n.createElement("div",null,this.props.results.map((function(e){return n.createElement(H,{plan:e})})))}}]),a}(n.Component),R=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={zipCode:"",isLoaded:!1,results:{},plansIsLoaded:!1},n.handleZipcodeInput=n.handleZipcodeInput.bind(Object(o.a)(n)),n.handleEHRSummary=n.handleEHRSummary.bind(Object(o.a)(n)),n.handleBenefitsResults=n.handleBenefitsResults.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"handleZipcodeInput",value:function(e){this.setState({zipCode:e})}},{key:"handleEHRSummary",value:function(e){this.setState({isLoaded:e})}},{key:"handleBenefitsResults",value:function(e){this.setState({results:e}),this.setState({plansIsLoaded:!0})}},{key:"render",value:function(){var e;return!0===this.state.plansIsLoaded&&(e=n.createElement(P,{results:this.state.results})),n.createElement("div",null,n.createElement(p,{onInput:this.handleZipcodeInput}),n.createElement(T,{zipCode:this.state.zipCode,onSubmit:this.handleEHRSummary,handleBenefitsResults:this.handleBenefitsResults}),e)}}]),a}(n.Component);var z=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(R,null))};s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null)),document.getElementById("root"))},65:function(e,t,a){e.exports=a(139)},70:function(e,t,a){},71:function(e,t,a){}},[[65,1,2]]]);
//# sourceMappingURL=main.e81548cc.chunk.js.map