{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "definitions": {
        "intDefns": {
            "type": "array",
            "items": {
                "properties": {
                    "isKnown": {"type": "boolean"},
                    "includedWithMedical": {"type": "boolean"},
                    "value": {"type": "number"},
                    "isPercent": {"type": "boolean"},
                    "deductible": {"type": "string", "enum": ["with", "after", "non"]},
                    "per": {"type": "string", "enum": ["day", "stay", "once"]}
                },
                "required": ["isKnown"],
                "additionalProperties": false
            },
            "minItems": 1,
            "maxItems": 2
        },
        "planCostSharing": {
            "type": "object",
            "required": ["medDeductibleInd", "drugDeductibleInd", "medDeductibleFam", "drugDeductibleFam", "medDeductibleFamPerPerson", "drugDeductibleFamPerPerson", "medMOOPInd", "drugMOOPInd", "medMOOPFam", "drugMOOPFam", "medMOOPFamPerPerson", "drugMOOPFamPerPerson", "primCarePhys", "spec", "emergencyRoom", "inPatientFac", "inPatientPhys", "genericDrugs", "prefDrugs", "nonprefDrug", "specDrug"],
            "properties": {
                "medDeductibleInd": {
                    "$ref": "#/definitions/intDefns"
                },
                "drugDeductibleInd": {
                    "$ref": "#/definitions/intDefns"
                },
                "medDeductibleFam": {
                    "$ref": "#/definitions/intDefns"
                },
                "drugDeductibleFam": {
                    "$ref": "#/definitions/intDefns"
                },
                "medDeductibleFamPerPerson": {
                    "$ref": "#/definitions/intDefns"
                },
                "drugDeductibleFamPerPerson": {
                    "$ref": "#/definitions/intDefns"
                },
                "medMOOPInd": {
                    "$ref": "#/definitions/intDefns"
                },
                "drugMOOPInd": {
                    "$ref": "#/definitions/intDefns"
                },
                "medMOOPFam": {
                    "$ref": "#/definitions/intDefns"
                },
                "drugMOOPFam": {
                    "$ref": "#/definitions/intDefns"
                },
                "medMOOPFamPerPerson": {
                    "$ref": "#/definitions/intDefns"
                },
                "drugMOOPFamPerPerson": {
                    "$ref": "#/definitions/intDefns"
                },
                "primCarePhys": {
                    "$ref": "#/definitions/intDefns"
                },
                "spec": {
                    "$ref": "#/definitions/intDefns"
                },
                "emergencyRoom" : {
                    "$ref": "#/definitions/intDefns"
                },
                "inPatientFac" : {
                    "$ref": "#/definitions/intDefns"
                },
                "inPatientPhys" : {
                    "$ref": "#/definitions/intDefns"
                },
                "genericDrugs": {
                    "$ref": "#/definitions/intDefns"
                },
                "prefDrugs": {
                    "$ref": "#/definitions/intDefns"
                },
                "nonprefDrug": {
                    "$ref": "#/definitions/intDefns"
                },
                "specDrug": {
                    "$ref": "#/definitions/intDefns"
                }
            },
            "minProperties": 21,
            "additionalProperties": false
        }
    },
    "type": "object",
    "properties": {
        "stateCode": {
            "type": "string"
        },
        "metalLevel": {
            "type": "string"
        },
        "issuerName": {
            "type": "string"
        },
        "HIOSIssuerID": {
            "type": "string"
        },
        "planID": {
            "type": "string"
        },
        "planMarketingName": {
            "type": "string"
        },
        "planType": {
            "type": "string",
            "enum": ["PPO","EPO", "POS", "HMO"]
        },
        "ratingArea": {
            "type": "integer"
        },
        "customerServicePhoneNumberLocal": {
            "type": "string"
        },
        "customerServicePhoneNumberTollFree": {
            "type": "string"
        },
        "customerServicePhoneNumberTTY": {
            "type": "string"
        },
        "networkURL": {
            "type": "string"
        },
        "summaryBenefitsURL": {
            "type": "string"
        },
        "ehbPercentOfTotalPremium":{
            "type": "number"
        },
        "premiumScenarios": {
            "type": "object",
            "required": ["individual14", "individual18", "individual21", "individual27", "individual30", "individual40", "individual50", "individual60", "couple21", "couple30", "couple40", "couple50", "couple60"],
            "properties": {
                "individual14": {
                    "type": "integer"
                },
                "individual18": {
                    "type": "integer"
                },
                "individual21": {
                    "type": "array",
                    "items": {
                        "type": "number"
                    },
                    "minItems": 4,
                    "maxItems": 4
                },
                "individual27": {
                    "type": "integer"
                },
                "individual30": {
                    "type": "array",
                    "items": {
                        "type": "number"
                    },
                    "minItems": 4,
                    "maxItems": 4
                },
                "individual40":{
                    "type": "array",
                    "items": {
                        "type": "number"
                    },
                    "minItems": 4,
                    "maxItems": 4
                },
                "individual50":{
                    "type": "array",
                    "items": {
                        "type": "number"
                    },
                    "minItems": 4,
                    "maxItems": 4
                },
                "individual60":{
                    "type": "number"
                },
                "couple21": {
                    "type": "array",
                    "items": {
                        "type": "number"
                    },
                    "minItems": 4,
                    "maxItems": 4
                },
                "couple30": {
                    "type": "array",
                    "items": {
                        "type": "number"
                    },
                    "minItems": 4,
                    "maxItems": 4
                },
                "couple40": {
                    "type": "array",
                    "items": {
                        "type": "number"
                    },
                    "minItems": 4,
                    "maxItems": 4
                },
                "couple50": {
                    "type": "array",
                    "items": {
                        "type": "number"
                    },
                    "minItems": 4,
                    "maxItems": 4
                },
                "couple60": {
                    "type": "number"
                }
            },
            "additionalProperties": false
        },
        "standPlanCostSharing":    { "$ref": "#/definitions/planCostSharing" },
        "silver73PlanCostSharing": { "$ref": "#/definitions/planCostSharing" },
        "silver87PlanCostSharing": { "$ref": "#/definitions/planCostSharing" },
        "silver94PlanCostSharing": { "$ref": "#/definitions/planCostSharing" }
    },
    "additionalProperties": false,
    "required": [
        "networkURL",
        "planID",
        "HIOSIssuerID",
        "stateCode",
        "metalLevel",
        "customerServicePhoneNumberLocal",
        "issuerName",
        "planMarketingName",
        "planType",
        "summaryBenefitsURL",
        "ehbPercentOfTotalPremium",
        "premiumScenarios",
        "standPlanCostSharing",
        "silver73PlanCostSharing",
        "silver87PlanCostSharing",
        "silver94PlanCostSharing"
    ]
}